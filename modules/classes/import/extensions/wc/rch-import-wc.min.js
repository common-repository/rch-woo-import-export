"use strict";function rchBackupAttr(){void 0===rchPluginSettings.productData&&(rchPluginSettings.productData=[]),void 0===rchPluginSettings.productData.attrCount&&(rchPluginSettings.productData.attrCount=1),void 0===rchPluginSettings.productData.attrData&&(rchPluginSettings.productData.attrData=jQuery(".rch_attr_data_outer_container").html())}function rchRemoveAllAttr(){rchBackupAttr(),jQuery(".rch_attr_data_outer_container").html("")}function rchAddNewAttr(){rchBackupAttr();var e=rchPluginSettings.productData.attrData.replace(/0/g,rchPluginSettings.productData.attrCount);jQuery(".rch_attr_data_outer_container").append(e),rchPluginSettings.productData.attrCount++}function rchAddOrderItemProductMeta(){void 0===rchPluginSettings.orderData&&(rchPluginSettings.orderData=[]),void 0===rchPluginSettings.orderData.itemData&&(rchPluginSettings.orderData.itemData=[]),void 0===rchPluginSettings.orderData.itemData.productMeta&&(rchPluginSettings.orderData.itemData.productMeta=jQuery(".rch_order_item_product_meta_wrapper").html()),jQuery(".rch_order_item_product_meta_wrapper").append(rchPluginSettings.orderData.itemData.productMeta)}function rchSetAttributes(e){rchRemoveAllAttr(),jQuery.isEmptyObject(e)||void 0!==e.rch_product_attr_name&&jQuery.each(e.rch_product_attr_name,function(t,i){rchAddNewAttr();var _=jQuery(".rch_attr_data_outer_container .rch_attr_data_container").last(),a="";void 0!==e.rch_product_attr_value[t]&&(a=e.rch_product_attr_value[t]);var r="";void 0!==e.rch_attr_in_variations[t]&&(r=e.rch_attr_in_variations[t]);var o="";void 0!==e.rch_attr_is_visible[t]&&(o=e.rch_attr_is_visible[t]);var p="";void 0!==e.rch_attr_is_taxonomy[t]&&(p=e.rch_attr_is_taxonomy[t]);var n="";void 0!==e.rch_attr_is_auto_create_term[t]&&(n=e.rch_attr_is_auto_create_term[t]),_.find(".rch_product_attr_name").val(i),_.find(".rch_product_attr_value").val(a);var u=!0;"as_specified"!==r?jQuery.each(_.find(".rch_attr_in_variations"),function(e){if(jQuery(this).val()==r)return jQuery(this).prop("checked",!0),u=!1,!1}):void 0!==e.rch_attr_in_variations_as_specified_data[t]&&(r=e.rch_attr_in_variations_as_specified_data[t]),!0===u&&(_.find(".rch_attr_in_variations_as_specified").prop("checked",!0),_.find(".rch_attr_in_variations_as_specified_data").val(r));u=!0;"as_specified"!==o?jQuery.each(_.find(".rch_attr_is_visible"),function(e){if(jQuery(this).val()==o)return jQuery(this).prop("checked",!0).trigger("change"),u=!1,!1}):void 0!==e.rch_attr_is_visible_as_specified_data[t]&&(o=e.rch_attr_is_visible_as_specified_data[t]),!0===u&&(_.find(".rch_attr_is_visible_as_specified").prop("checked",!0),_.find(".rch_attr_is_visible_as_specified_data").val(o));u=!0;"as_specified"!==p?jQuery.each(_.find(".rch_attr_is_taxonomy"),function(e){if(jQuery(this).val()==p)return jQuery(this).prop("checked",!0).trigger("change"),u=!1,!1}):void 0!==e.rch_attr_is_taxonomy_as_specified_data[t]&&(p=e.rch_attr_is_taxonomy_as_specified_data[t]),!0===u&&(_.find(".rch_attr_is_taxonomy_as_specified").prop("checked",!0),_.find(".rch_attr_is_taxonomy_as_specified_data").val(p));u=!0;"as_specified"!==n?jQuery.each(_.find(".rch_attr_is_auto_create_term"),function(e){if(jQuery(this).val()==n)return jQuery(this).prop("checked",!0).trigger("change"),u=!1,!1}):void 0!==e.rch_attr_is_auto_create_term_as_specified_data[t]&&(n=e.rch_attr_is_auto_create_term_as_specified_data[t]),!0===u&&(_.find(".rch_attr_is_auto_create_term_as_specified").prop("checked",!0),_.find(".rch_attr_is_auto_create_term_as_specified_data").val(n))})}jQuery(document).on("click",".rch_product_menu_list",function(){jQuery(this).hasClass("active_tab")||(jQuery(".rch_product_menu_list.active_tab").removeClass("active_tab"),jQuery(this).addClass("active_tab")),jQuery(".rch_product_data_container").hide(),jQuery("."+jQuery(this).attr("display_block")).show()}),jQuery(document).on("click",".rch_order_item_list",function(){jQuery(this).hasClass("active_tab")||(jQuery(this).closest(".rch_field_mapping_container_wrapper").find(".rch_order_item_list.active_tab").removeClass("active_tab"),jQuery(this).addClass("active_tab")),jQuery(this).closest(".rch_field_mapping_container_wrapper").find(".rch_order_item_data_container").hide(),jQuery(this).closest(".rch_field_mapping_container_wrapper").find("."+jQuery(this).attr("display_block")).show()}),jQuery(document).on("change",".rch_item_product_type",function(){jQuery(".rch_product_menu_variations").hide(),jQuery(".rch_product_type_as_specified_wrapper").hide(),jQuery(".rch_product_menu_shipping").show(),jQuery(".rch_product_menu_inventory").show(),"simple"==jQuery(this).val()||("grouped"==jQuery(this).val()?jQuery(".rch_product_menu_shipping").hide():"external"==jQuery(this).val()?(jQuery(".rch_product_menu_inventory").hide(),jQuery(".rch_product_menu_shipping").hide()):"variable"==jQuery(this).val()?jQuery(".rch_product_menu_variations").show():"as_specified"==jQuery(this).val()&&(jQuery(".rch_product_type_as_specified_wrapper").show(),jQuery(".rch_product_menu_variations").show())),jQuery(".rch_product_data_container").hide(),jQuery(".rch_product_menu_list.active_tab").removeClass("active_tab"),jQuery(".rch_product_menu_general").addClass("active_tab"),jQuery("."+jQuery(".rch_product_menu_general").attr("display_block")).show()}),jQuery(document).on("change",".rch_item_meta_downloadable",function(){"no"!=jQuery(this).val()?jQuery(".rch_product_downloadable_container").show():jQuery(".rch_product_downloadable_container").hide()}),jQuery(document).on("change",".is_product_variation_downloadable",function(){"no"!=jQuery(this).val()?jQuery(".rch_product_variation_downloadable_container").show():jQuery(".rch_product_variation_downloadable_container").hide()}),jQuery(document).on("change",".is_product_variation_manage_stock",function(){"no"!=jQuery(this).val()?jQuery(".rch_product_variation_stock_qty_container").show():jQuery(".rch_product_variation_stock_qty_container").hide()}),jQuery(document).on("change",".rch_item_meta_manage_stock",function(){"no"!=jQuery(this).val()?jQuery(".rch_product_stock_qty_container").show():jQuery(".rch_product_stock_qty_container").hide()}),jQuery(document).on("change",".rch_order_item_select",function(){"as_specified"==jQuery(this).val()?jQuery(this).parent().find(".rch_order_item_select_as_specified").show():jQuery(this).parent().find(".rch_order_item_shipping_method_as_specified").hide()}),jQuery(document).on("click",".rch_import_attr_add_more_btn",function(){rchAddNewAttr()}),jQuery(document).on("click",".rch_delete_attr_data",function(){rchBackupAttr(),jQuery(this).closest(".rch_attr_data_container").remove()}),jQuery(document).on("change",".rch_variation_import_method",function(){var e=jQuery(this).val();"attributes"==e?jQuery(".rch_product_variation_options").hide():"parent_sku"==e||"parent_title"==e?(jQuery(".rch_product_variation_options").hide(),jQuery(".rch_product_variation_settings").show(),jQuery(".rch_is_product_variation_enabled").show()):"group"==e||"only_parent_title"==e?(jQuery(".rch_product_variation_options").hide(),jQuery(".rch_product_variation_manage_stock").show(),jQuery(".rch_product_variation_stock_status_container").show(),jQuery(".rch_is_product_variation_enabled").show(),jQuery(".rch_product_variation_settings").show()):"xml"==e&&jQuery(".rch_product_variation_options").show()}),jQuery(document).on("change",".rch_order_status",function(){"as_specified"==jQuery(this).val()?jQuery(".rch_order_status_as_specified").show():jQuery(".rch_order_status_as_specified").hide()}),jQuery(document).on("click",".rch_order_item_product_meta_add_btn",function(){rchAddOrderItemProductMeta()}),jQuery(document).on("click",".rch_order_item_product_meta_delete_btn",function(){1==jQuery(".rch_order_item_product_meta_wrapper .rch_product_element_wrapper").length&&rchAddOrderItemProductMeta(),jQuery(this).closest(".rch_product_element_wrapper").remove()}),jQuery(document).on("change",".rch_item_order_billing_match_by",function(){jQuery(".rch_item_order_billing_match_by_data").hide(),"username"==jQuery(this).val()?jQuery(".rch_item_order_billing_match_by_username").show():"email"==jQuery(this).val()?jQuery(".rch_item_order_billing_match_by_email").show():"cf"==jQuery(this).val()?(jQuery(".rch_item_order_billing_match_by_cf_name").show(),jQuery(".rch_item_order_billing_match_by_cf_value").show()):"id"==jQuery(this).val()&&jQuery(".rch_item_order_billing_match_by_user_id").show()}),jQuery(document).on("click",".rch_schedule_price_link,.rch_schedule_price_cancel_link",function(){var e=jQuery(this).closest(".rch_product_element_data_container");e.hasClass("rch_product_schedule_price_outer")?e.removeClass("rch_product_schedule_price_outer"):e.addClass("rch_product_schedule_price_outer")}),jQuery(document).on("rchChangeTemplate",function(e,t){rchSetAttributes(t)}),jQuery(document).on("rchAfterChangeTemplate",function(e,t){if(!jQuery.isEmptyObject(t)){jQuery.each(["rch_item_first_variation_as_default","rch_item_meta_disable_auto_sku"],function(e,i){void 0===t[i]&&jQuery("."+i).prop("checked",!1)})}});