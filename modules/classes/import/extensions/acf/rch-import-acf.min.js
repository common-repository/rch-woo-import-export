"use strict";function rchSetNameFields(e,i){jQuery.isEmptyObject(e)||jQuery.each(e,function(e,t){if(null===t)return!0;var a=void 0!==t.type&&null!==t.type?jQuery.trim(t.type.toLowerCase()):"";if(""===a||jQuery('[name="acf'+i+"["+e+'][type]"]').length<1)return!0;var r="";switch(a){case"group":case"clone":if("direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):""))rchSetNameFields(void 0!==t.sub_fields?t.sub_fields:"",i+"["+e+"][sub_fields]");else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"repeater":case"flexible_content":"direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"")?jQuery.each(t,function(t,r){if("type"===jQuery.trim(t.toLowerCase()))return!0;var n=void 0!==r.sub_fields?r.sub_fields:"",p=jQuery('[name="acf'+i+"["+e+'][type]"]').closest(".rch_acf_field_data_wrapper").children(".rch_item_act_inner_wrapper");"repeater"===a?rchAddNewRepeaterField(p.children(".rch_acf_fc_layout_action_wrapper").find(".rch_acf_repeater_add_row")):rchAddNewFcField(p,"rch_acf_cf_layout_"+(void 0!==r.layout?r.layout:""));rchSetNameFields(n,i+"["+e+"]["+t+"][sub_fields]")}):(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r));break;case"image":case"file":case"gallery":if(r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r),void 0!==t.search_through_media&&"1"===t.search_through_media?jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][search_through_media]"]').prop("checked",!1),void 0!==t.use_upload_dir&&"1"===t.use_upload_dir?jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!0):jQuery('[name="acf'+i+"["+e+'][use_upload_dir]"]').prop("checked",!1),"gallery"===a){var n=void 0!==t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(n)}break;case"select":case"checkbox":case"radio":case"button_group":case"true_false":case"taxonomy":if("direct"===(void 0!==t.value_option&&null!==t.value_option?jQuery.trim(t.value_option.toLowerCase()):"")){if(jQuery('[name="acf'+i+"["+e+'][value_option]"][value="direct"]').prop("checked",!0),r=void 0!==t[e]?t[e]:"","select"===a)jQuery('[name="acf'+i+"["+e+"]["+e+']"]').val(r).trigger("chosen:updated");else if("checkbox"===a||"taxonomy"===a)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+'][]"]'),function(e){-1!==jQuery.inArray(jQuery(this).val(),r)?jQuery(this).prop("checked",!0):jQuery(this).prop("checked",!1)});else if("radio"===a||"button_group"===a)jQuery.each(jQuery('[name="acf'+i+"["+e+"]["+e+']"]'),function(e){if(jQuery(this).val()===r)return jQuery(this).prop("checked",!0),!1});else if("true_false"===a){var p=jQuery('[name="acf['+i+e+"]["+e+']"][type="checkbox"]');p.val()===r?p.prop("checked",!0):p.prop("checked",!1)}}else jQuery('[name="acf'+i+"["+e+'][value_option]"][value="custom"]').prop("checked",!0),r=void 0!==t.custom_value?t.custom_value:"",jQuery('[name="acf'+i+"["+e+'][custom_value]"]').val(r);break;case"link":var o=void 0!==(r=void 0!==t.value?t.value:"").title?r.title:"";jQuery('[name="acf'+i+"["+e+'][value][title]"]').val(o);var u=void 0!==r.url?r.url:"";jQuery('[name="acf'+i+"["+e+'][value][url]"]').val(u);var c=void 0!==r.target?r.target:"";jQuery('[name="acf'+i+"["+e+'][value][target]"]').val(c);break;case"google_map":var l=void 0!==(r=void 0!==t.value?t.value:"").address?r.address:"";jQuery('[name="acf'+i+"["+e+'][value][address]"]').val(l);var d=void 0!==r.lat?r.lat:"";jQuery('[name="acf'+i+"["+e+'][value][lat]"]').val(d);var s=void 0!==r.lng?r.lng:"";jQuery('[name="acf'+i+"["+e+'][value][lng]"]').val(s);break;case"post_object":case"page_link":case"relationship":case"user":r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r);n=void 0!==t.delim?t.delim:"";jQuery('[name="acf'+i+"["+e+'][delim]"]').val(n);break;default:r=void 0!==t.value?t.value:"",jQuery('[name="acf'+i+"["+e+'][value]"]').val(r)}})}function rchAddNewFcField(e,i){if(void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[i])return!1;var t=rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[i];void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount&&(rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount=0),e.children(".rch_acf_fc_layout_wrapper").append(t.replace(/\rch_row_number/g,rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount)),e.children(".rch_acf_fc_layout_wrapper").find("select").chosen(),rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount++,rchSetToolTip()}function rchAddNewRepeaterField(e){var i=e.closest(".rch_repreater_direct_container"),t=e.attr("data-container");if(void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[t])return!1;var a=rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[t];void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount&&(rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount=0),i.children(".rch_acf_repreater_wrapper").append(a.replace(/\[rch_row_number\]/g,"["+rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount+"]")),i.children(".rch_acf_repreater_wrapper").find("select").chosen(),rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount++,rchSetToolTip()}jQuery(document).on("rchAfterChangeTemplate",function(e,i){var t=void 0!==i.is_exported?i.is_exported:0;0===t?jQuery(".rch_item_acf_group").prop("checked",!1).trigger("change"):jQuery(".rch_item_acf_group").prop("checked",!0).trigger("change"),jQuery.isEmptyObject(i)||(0===t&&void 0!==i.rch_item_acf_group&&null!==i.rch_item_acf_group&&jQuery.each(i.rch_item_acf_group,function(e,i){jQuery(".rch_item_acf_group_"+e).prop("checked",!0).trigger("change")}),void 0!==i.acf&&null!==i.acf&&rchSetNameFields(i.acf,""))}),jQuery(document).on("rchChangeConfig",function(){void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].addonData&&(rchPluginSettings.importData[rchPluginSettings.rchImportId].addonData=[]),void 0===rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData&&(rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData=[]),jQuery(".rch_acf_cf_layout_container").each(function(e){jQuery(this).find(".rch_content_data_select").chosen("destroy");var i=jQuery(this).attr("data-container");rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[i]=jQuery(this).clone().wrap("<div></div>").parent().html(),jQuery(this).remove()}),jQuery(".rch_acf_repeater_container").each(function(e){jQuery(this).find(".rch_content_data_select").chosen("destroy");var i=jQuery(this).attr("data-container");rchPluginSettings.importData[rchPluginSettings.rchImportId].addonSubData[i]=jQuery(this).clone().wrap("<div></div>").parent().html(),jQuery(this).remove()}),jQuery(".rch_item_add_on_demand").each(function(e){var i=jQuery(this).attr("data-container");jQuery("."+i).find(".rch_content_data_select").chosen("destroy"),rchPluginSettings.importData[rchPluginSettings.rchImportId].addonData[i]=jQuery("."+i).clone().wrap("<div></div>").parent().html(),jQuery("."+i).remove()}),rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount=0,rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount=0}),jQuery(document).on("change",".rch_item_add_on_demand",function(){var e=jQuery(this).attr("data-container");jQuery(this).is(":checked")?(jQuery("."+e).length&&jQuery("."+e).remove(),jQuery(this).parent().append(rchPluginSettings.importData[rchPluginSettings.rchImportId].addonData[e]),jQuery("."+e).find(".rch_content_data_select").chosen(),rchSetToolTip()):jQuery("."+e).remove(),rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount=0,rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount=0}),jQuery(document).on("click",".rch_acf_fc_add_layout",function(){var e=jQuery(this).closest(".rch_fc_direct_container"),i=jQuery(this).closest(".rch_acf_fc_layout_action_wrapper").find(".rch_acf_cf_layout_data").val();if(""===i)return rchSetErrorMsg(rchPluginSettings.rchLocalizeText.rchEmptyLayout),!1;rchAddNewFcField(e,i)}),jQuery(document).on("click",".rch_acf_fc_remove_layout",function(){jQuery(this).closest(".rch_fc_direct_container").children(".rch_acf_fc_layout_wrapper").children(".rch_acf_cf_layout_container").last().remove(),rchPluginSettings.importData[rchPluginSettings.rchImportId].fcFieldsCount--}),jQuery(document).on("click",".rch_acf_repeater_add_row",function(){rchAddNewRepeaterField(jQuery(this))}),jQuery(document).on("click",".rch_acf_repeater_remove_row",function(){jQuery(this).closest(".rch_repreater_direct_container").children(".rch_acf_repreater_wrapper").children(".rch_acf_repeater_container").last().remove(),rchPluginSettings.importData[rchPluginSettings.rchImportId].repeaterFieldsCount--});